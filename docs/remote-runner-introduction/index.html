<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-remote-runner-introduction" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Introduction to Remote Runners | BuildBuddy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.buildbuddy.io/img/preview.png"><meta data-rh="true" name="twitter:image" content="https://www.buildbuddy.io/img/preview.png"><meta data-rh="true" property="og:url" content="https://www.buildbuddy.io/docs/remote-runner-introduction"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:description" content="BuildBuddy provides enterprise features for Bazel — the open source build system that allows you to build and test software 10x faster."><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction to Remote Runners | BuildBuddy"><meta data-rh="true" name="description" content="A BuildBuddy remote runner is an execution environment that runs on a BuildBuddy executor."><meta data-rh="true" property="og:description" content="A BuildBuddy remote runner is an execution environment that runs on a BuildBuddy executor."><link data-rh="true" rel="icon" href="/img/favicon_black.svg"><link data-rh="true" rel="canonical" href="https://www.buildbuddy.io/docs/remote-runner-introduction"><link data-rh="true" rel="alternate" href="https://www.buildbuddy.io/docs/remote-runner-introduction" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.buildbuddy.io/docs/remote-runner-introduction" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Remote Runner Introduction","item":"https://www.buildbuddy.io/docs/remote-runner-introduction"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="BuildBuddy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="BuildBuddy Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-156160991-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.545eca6e.css">
<script src="/assets/js/runtime~main.715ceee3.js" defer="defer"></script>
<script src="/assets/js/main.54f5b4b8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BuildBuddy Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32px" width="191px"><img src="/img/logo_white.svg" alt="BuildBuddy Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32px" width="191px"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/features">Features</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/ui">Build &amp; Test UI</a></li><li><a class="dropdown__link" href="/remote-execution">Remote Execution</a></li><li><a class="dropdown__link" href="/remote-cache">Remote Cache</a></li><li><a class="dropdown__link" href="/workflows">Workflows</a></li><li><a class="dropdown__link" href="/cli">BuildBuddy CLI</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a href="https://github.com/buildbuddy-io/buildbuddy" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="http://community.buildbuddy.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Community<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a class="dropdown__link" href="/security">Security</a></li><li><a class="dropdown__link" href="/plugins">Plugins</a></li><li><a class="dropdown__link" href="/team">Team</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/introduction/">Docs</a><a class="navbar__item navbar__link" target="_self" href="/blog/">Blog</a><a class="navbar__item navbar__link" target="_self" href="/pricing">Pricing</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://app.buildbuddy.io/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Login<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://app.buildbuddy.io/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link sign-up">Sign up<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/introduction"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart"><span title="Quickstart" class="linkLabel_WmDU">Quickstart</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributing"><span title="Contributing" class="linkLabel_WmDU">Contributing</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/guides"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides"><span title="Guides" class="linkLabel_WmDU">Guides</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide-auth"><span title="Authentication Guide" class="linkLabel_WmDU">Authentication Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide-metadata"><span title="Build Metadata Guide" class="linkLabel_WmDU">Build Metadata Guide</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/cache-encryption-keys"><span title="Cache" class="categoryLinkLabel_W154">Cache</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cache-encryption-keys"><span title="Customer-managed Encryption Keys" class="linkLabel_WmDU">Customer-managed Encryption Keys</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/remote-build-execution"><span title="Remote Build Execution" class="categoryLinkLabel_W154">Remote Build Execution</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/remote-build-execution"><span title="Remote Build Execution" class="linkLabel_WmDU">Remote Build Execution</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rbe-setup"><span title="Remote Build Execution Setup" class="linkLabel_WmDU">Remote Build Execution Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rbe-platforms"><span title="RBE Platforms" class="linkLabel_WmDU">RBE Platforms</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rbe-container-image-caching"><span title="RBE Container Image Caching" class="linkLabel_WmDU">RBE Container Image Caching</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/secrets"><span title="RBE Secrets" class="linkLabel_WmDU">RBE Secrets</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rbe-microvms"><span title="RBE with MicroVMs" class="linkLabel_WmDU">RBE with MicroVMs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rbe-github-actions"><span title="RBE with GitHub Actions" class="linkLabel_WmDU">RBE with GitHub Actions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rbe-pools"><span title="RBE Executor Pools" class="linkLabel_WmDU">RBE Executor Pools</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/remote-runner-introduction"><span title="Remote Runners (CI)" class="categoryLinkLabel_W154">Remote Runners (CI)</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/remote-runner-introduction"><span title="Remote Runner Introduction" class="linkLabel_WmDU">Remote Runner Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/remote-runner-features"><span title="Remote Runner Features" class="linkLabel_WmDU">Remote Runner Features</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workflows-setup"><span title="Workflows setup" class="linkLabel_WmDU">Workflows setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workflows-config"><span title="Workflows configuration" class="linkLabel_WmDU">Workflows configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/remote-bazel"><span title="Remote bazel" class="linkLabel_WmDU">Remote bazel</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/cli"><span title="CLI" class="categoryLinkLabel_W154">CLI</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cli"><span title="CLI Overview" class="linkLabel_WmDU">CLI Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cli-plugins"><span title="CLI Plugins" class="linkLabel_WmDU">CLI Plugins</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/troubleshooting"><span title="Troubleshooting" class="categoryLinkLabel_W154">Troubleshooting</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/troubleshooting-rbe"><span title="RBE Failures" class="linkLabel_WmDU">RBE Failures</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/troubleshooting-slow-upload"><span title="Slow Uploads" class="linkLabel_WmDU">Slow Uploads</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/enterprise"><span title="Enterprise" class="categoryLinkLabel_W154">Enterprise</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enterprise"><span title="BuildBuddy Enterprise" class="linkLabel_WmDU">BuildBuddy Enterprise</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enterprise-setup"><span title="Enterprise On-prem Setup" class="linkLabel_WmDU">Enterprise On-prem Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enterprise-config"><span title="Enterprise Configuration" class="linkLabel_WmDU">Enterprise Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enterprise-helm"><span title="Enterprise Helm Charts" class="linkLabel_WmDU">Enterprise Helm Charts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enterprise-rbe"><span title="Enterprise RBE Setup" class="linkLabel_WmDU">Enterprise RBE Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enterprise-mac-rbe"><span title="Enterprise Mac RBE Setup" class="linkLabel_WmDU">Enterprise Mac RBE Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enterprise-api"><span title="Enterprise API" class="linkLabel_WmDU">Enterprise API</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/prometheus-metrics-on-prem"><span title="Monitoring" class="categoryLinkLabel_W154">Monitoring</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prometheus-metrics-on-prem"><span title="Prometheus Metrics On-prem" class="linkLabel_WmDU">Prometheus Metrics On-prem</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prometheus-metrics-for-cloud"><span title="Prometheus Metrics for Cloud" class="linkLabel_WmDU">Prometheus Metrics for Cloud</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/architecture-overview"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture-overview"><span title="Architecture Overview" class="linkLabel_WmDU">Architecture Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture-data-storage"><span title="Data Storage Overview" class="linkLabel_WmDU">Data Storage Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture-build-event-write"><span title="Life of a Build Event Write" class="linkLabel_WmDU">Life of a Build Event Write</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture-build-event-read"><span title="Life of a Build Event Read" class="linkLabel_WmDU">Life of a Build Event Read</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture-cache-write"><span title="Life of a Cache Write" class="linkLabel_WmDU">Life of a Cache Write</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture-cache-read"><span title="Life of a Cache Read" class="linkLabel_WmDU">Life of a Cache Read</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture-remote-execution"><span title="Life of a Remote Execution" class="linkLabel_WmDU">Life of a Remote Execution</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture-self-hosted-executor"><span title="Life of a Self Hosted Executor" class="linkLabel_WmDU">Life of a Self Hosted Executor</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/config"><span title="Configuration" class="categoryLinkLabel_W154">Configuration</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-samples"><span title="Samples" class="linkLabel_WmDU">Samples</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-app"><span title="App" class="linkLabel_WmDU">App</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-database"><span title="Database" class="linkLabel_WmDU">Database</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-olap-database"><span title="OLAP Database" class="linkLabel_WmDU">OLAP Database</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-storage"><span title="Storage" class="linkLabel_WmDU">Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-cache"><span title="Cache" class="linkLabel_WmDU">Cache</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-github"><span title="GitHub" class="linkLabel_WmDU">GitHub</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-ssl"><span title="SSL" class="linkLabel_WmDU">SSL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-auth"><span title="Auth" class="linkLabel_WmDU">Auth</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-integrations"><span title="Integrations" class="linkLabel_WmDU">Integrations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-org"><span title="Org" class="linkLabel_WmDU">Org</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-rbe"><span title="RBE" class="linkLabel_WmDU">RBE</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-misc"><span title="Misc" class="linkLabel_WmDU">Misc</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-api"><span title="API" class="linkLabel_WmDU">API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-telemetry"><span title="Telemetry" class="linkLabel_WmDU">Telemetry</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-flags"><span title="Flags" class="linkLabel_WmDU">Flags</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config-all-options"><span title="All Options" class="linkLabel_WmDU">All Options</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Remote Runners (CI)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Remote Runner Introduction</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction to Remote Runners</h1></header><p>A BuildBuddy remote runner is an execution environment that runs on a BuildBuddy executor.
Our remote runners are optimized to run Bazel commands, and allow users to maintain
a warm bazel instance in a secure execution environment managed by BuildBuddy.
For example, this might look like a Firecracker microVM or an OCI container where
you can run Bazel commands.</p>
<p>BuildBuddy remote runners have the following unique advantages:</p>
<ol>
<li>Colocation with BuildBuddy servers, ensuring a <strong>fast network
connection</strong> between Bazel and BuildBuddy&#x27;s cache &amp; RBE servers.</li>
<li>Running workloads in <strong>persistent execution environments</strong> using microVM
snapshotting (on Linux) and persistent runners (on macOS). This allows reusing
Bazel&#x27;s in-memory analysis cache and local disk cache, achieving higher performance
compared to remote caching alone.</li>
</ol>
<p>There are two ways to use remote runners:</p>
<ol>
<li><strong>BuildBuddy Workflows:</strong> Our continuous integration (CI) solution that runs Bazel builds and tests in response to git events (pull requests or pushes).</li>
<li><strong>Remote Bazel:</strong> a CLI tool that works exactly like the Bazel command, but runs Bazel on a remote workspace and streams the output back to the local machine.</li>
</ol>
<p>See <a href="https://www.buildbuddy.io/blog/meet-buildbuddy-workflows" target="_blank" rel="noopener noreferrer">our blog post</a>
for more details on the motivation behind remote runners as well as some
real-world results.</p>
<p>We currently support two products built on top of remote runners: Workflows and
Remote Bazel.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="differences-between-workflows-and-remote-bazel">Differences between Workflows and Remote Bazel<a href="#differences-between-workflows-and-remote-bazel" class="hash-link" aria-label="Direct link to Differences between Workflows and Remote Bazel" title="Direct link to Differences between Workflows and Remote Bazel" translate="no">​</a></h2>
<p>In many ways, Remote Bazel and Workflows are the same product and share much of
the same backend code. Both are mechanisms to run code on remote runners. The
primary difference is the entrypoint.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="workflows">Workflows<a href="#workflows" class="hash-link" aria-label="Direct link to Workflows" title="Direct link to Workflows" translate="no">​</a></h4>
<p>Workflows are configured with a config YAML that is checked in to GitHub.
Remote runs can be automatically triggered by GitHub events, like push and
pull events. Workflows are commonly used as a Continuous Integration (CI) solution.</p>
<p>Workflows are a good fit if you:</p>
<ul>
<li>Have a static list of commands to run</li>
<li>Want your commands checked in to your codebase for review</li>
<li>Are exclusively using BuildBuddy to run CI and do not have another CI provider
that can initiate commands</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="remote-bazel">Remote Bazel<a href="#remote-bazel" class="hash-link" aria-label="Direct link to Remote Bazel" title="Direct link to Remote Bazel" translate="no">​</a></h4>
<p>Remote Bazel can be configured by CURL request or by using the BuildBuddy CLI.
Remote Bazel can be used as a Continuous Integration (CI) solution, or by developers
in their daily workflows for use cases that are more dynamic than CI.</p>
<p>Remote Bazel is a good fit if you:</p>
<ul>
<li>Have a dynamic or frequently changing list of commands to run, that you do not
want to check into your codebase</li>
<li>You are continuing to use a legacy CI platform and want to integrate BuildBuddy
into it</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="benefits-of-remote-runners">Benefits of remote runners<a href="#benefits-of-remote-runners" class="hash-link" aria-label="Direct link to Benefits of remote runners" title="Direct link to Benefits of remote runners" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="colocation-with-buildbuddy-servers">Colocation with BuildBuddy servers<a href="#colocation-with-buildbuddy-servers" class="hash-link" aria-label="Direct link to Colocation with BuildBuddy servers" title="Direct link to Colocation with BuildBuddy servers" translate="no">​</a></h3>
<p>Network latency is often the biggest bottleneck in many Bazel Remote Build
Execution and Remote Caching setups. This is because Bazel&#x27;s remote APIs
require several chained RPCs due to dependencies between actions.</p>
<p>To address this bottleneck, BuildBuddy remote runners are executed in the same
datacenters where BuildBuddy RBE and Cache nodes are deployed. This
results in sub-millisecond round trip times to BuildBuddy&#x27;s servers,
minimizing the overhead incurred by Bazel&#x27;s remote APIs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hosted-warm-bazel-instances">Hosted, warm, Bazel instances<a href="#hosted-warm-bazel-instances" class="hash-link" aria-label="Direct link to Hosted, warm, Bazel instances" title="Direct link to Hosted, warm, Bazel instances" translate="no">​</a></h3>
<p>Running Bazel on most CI solutions is typically expensive and slow.
There are several sources of overhead:</p>
<ul>
<li>When using Bazelisk, Bazel itself is re-downloaded and extracted on each
CI run.</li>
<li>The Bazel server starts from a cold JVM, meaning that it will be running
unoptimized code until the JIT compiler kicks in.</li>
<li>Bazel&#x27;s analysis cache starts empty, which often means the entire
workspace has to be re-scanned on each CI run.</li>
<li>Any remote repositories referenced by the Bazel workspace all have to be
re-fetched on each run.</li>
<li>Bazel&#x27;s on-disk cache starts completely empty, causing action
re-execution or excess remote cache usage.</li>
</ul>
<p>A common solution is to use something like
<a href="https://github.com/actions/cache" target="_blank" rel="noopener noreferrer">actions/cache</a> to store Bazel&#x27;s cache
for reuse between runs, but this solution is extremely data-intensive, as
Bazel&#x27;s cache can be several GB in size and consist of many individual
files which are expensive to unpack from an archive. It also does not
solve the problems associated with the Bazel server having starting from
scratch.</p>
<p>By contrast, BuildBuddy uses a Bazel workspace reuse approach, similar to
how <a href="https://dl.acm.org/doi/pdf/10.1145/3395363.3397371" target="_blank" rel="noopener noreferrer">Google&#x27;s Build Dequeuing Service</a> performs
workspace selection:</p>
<blockquote>
<p>A well-chosen workspace can increase the build speed by an
order of magnitude by reusing the various cached results from the
previous execution. [...] We have observed that builds that execute the same targets as a previous
build are effectively no-ops using this technique</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bazel-instance-matching">Bazel instance matching<a href="#bazel-instance-matching" class="hash-link" aria-label="Direct link to Bazel instance matching" title="Direct link to Bazel instance matching" translate="no">​</a></h2>
<p>To match remote runs to warm Bazel instances, BuildBuddy uses VM
snapshotting powered by
<a href="https://github.com/firecracker-microvm/firecracker" target="_blank" rel="noopener noreferrer">Firecracker</a> on
Linux, and a simpler runner-recycling based approach on macOS.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="firecracker-vms-linux-only">Firecracker VMs (Linux only)<a href="#firecracker-vms-linux-only" class="hash-link" aria-label="Direct link to Firecracker VMs (Linux only)" title="Direct link to Firecracker VMs (Linux only)" translate="no">​</a></h3>
<p>On Linux, remote runs are executed inside Firecracker VMs, which
have a low startup time (hundreds of milliseconds). VM snapshots include
the full disk and memory contents of the machine, meaning that the Bazel
server is effectively kept warm between runs.</p>
<p>Remote runners use a sophisticated snapshotting mechanism that minimizes the
work that Bazel has to do on each CI run.</p>
<p>First, VM snapshots are stored both locally on the machine that ran the
remote run, as well as remotely in BuildBuddy&#x27;s cache. This way, if the
original machine that ran the remote run is fully occupied with other
workloads, subsequent runs can be executed on another machine,
but still be able to resume from a warm VM snapshot. BuildBuddy stores VM
snapshots in granular chunks that are downloaded lazily, so that unneeded
disk and memory chunks are not re-downloaded.</p>
<p>Second, snapshots are stored using a branching model that closely mirrors
the branching structure of the git repository itself, allowing remote runs
to be matched optimally to VM snapshots.</p>
<p>After a remote run executes on a particular git branch, BuildBuddy snapshots the
VM and saves it under a cache key which includes the git branch.</p>
<p>When starting a remote run on a particular git branch, BuildBuddy
attempts to locate an optimal snapshot to run it. It considers
the following snapshot keys in order:</p>
<ol>
<li>The latest snapshot matching the git branch associated with the
run.</li>
<li>The latest snapshot matching the base branch of the PR associated with
the run.</li>
<li>The latest snapshot matching the default branch of the repo associated
with the run.</li>
</ol>
<p>For example, consider a remote run that runs on pull requests
(PRs). Given a PR that is attempting to merge the branch <code>users-ui</code> into a
PR base branch <code>users-api</code>, BuildBuddy will first try to resume the latest
snapshot associated with the <code>users-ui</code> branch. If that doesn&#x27;t exist,
we&#x27;ll try to resume from the snapshot associated with the <code>users-api</code>
branch. If that doesn&#x27;t exist, we&#x27;ll look for a snapshot for the <code>main</code>
branch (the repo&#x27;s default branch). If all of that fails, only then do we
boot a new VM from scratch. When the remote run finishes and we save a
snapshot, we only overwrite the snapshot for the <code>users-ui</code> branch,
meaning that the <code>users-api</code> and <code>main</code> branch snapshots will not be
affected.</p>
<p>One common issue is not running any remote runs on your default branch.
Every time there is a new PR branch, for example, the remote run will start from
scratch because there is not a shared default snapshot for them to start from. One
solution is to trigger a remote run on every push to the default branch, to make sure
the default snapshot stays up to date.</p>
<p>For more technical details on our VM implementation, see our BazelCon
talk <a href="https://www.youtube.com/watch?v=YycEXBlv7ZA" target="_blank" rel="noopener noreferrer">Reusing Bazel&#x27;s Analysis Cache by Cloning Micro-VMs</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="remote-snapshot-save-policy">Remote snapshot save policy<a href="#remote-snapshot-save-policy" class="hash-link" aria-label="Direct link to Remote snapshot save policy" title="Direct link to Remote snapshot save policy" translate="no">​</a></h4>
<p>By default, after every remote run, a snapshot is cached locally on the machine
that ran it. Subsequent runs that are assigned to the same executor can resume
from that snapshot. Our scheduler uses affinity routing to prioritize routing
similar workloads to the same executor, to increase the likelihood of hitting
a local snapshot match.</p>
<p>Snapshots can also be cached in the remote cache. There are pros and cons to
using remote snapshots.</p>
<p>Local snapshots cannot be guaranteed, because the executor
that has it cached locally may be unavailable. For example if it&#x27;s fully occupied
with other workloads or is restarting during a release, subsequent remote
runs will be executed on another machine that doesn&#x27;t have access to the local
cache. Using the remote cache increases the likelihood you will be able to access the
latest snapshot (subject to typical remote cache eviction).</p>
<p>However snapshots can be quite large, and storing them in the remote cache
can cause significant network transfer. Remote snapshot uploads and downloads
are billed, and writing every snapshot to the remote cache may result in a
high bill.</p>
<p>We support configuring the remote snapshot save policy with the <code>remote-snapshot-save-policy</code>
platform property. Valid values are:</p>
<ul>
<li><code>always</code>: Always save a remote snapshot.<!-- -->
<ul>
<li>For performance sensitive or interactive workloads, this will ensure the latest snapshot is
always saved to the remote cache and will always be accessible.</li>
</ul>
</li>
<li><code>first-non-default-ref</code>: Only the first run on a non-default ref will save a remote snapshot.
All runs on default refs will save a remote snapshot.<!-- -->
<ul>
<li>This policy is applied by default.</li>
<li>Every run on the default branch (Ex. <code>main</code> or <code>master</code>) will save a remote snapshot.</li>
<li>The first run on your feature branch <code>my-feature</code> can resume from the default
snapshot, and will save a remote snapshot for the <code>my-feature</code> ref.</li>
<li>The second run on the <code>my-feature</code> branch will resume from the original <code>my-feature</code>
snapshot. However it will not save a remote snapshot.</li>
<li>The third run on the <code>my-feature</code> branch will resume from the original <code>my-feature</code>
snapshot. It will not resume from the second run of the <code>my-feature</code> branch, and
it will not save a remote snapshot.</li>
</ul>
</li>
<li><code>none-available</code>: A remote snapshot on a non-default ref will only be saved if
there are no remote snapshots available. If there is any fallback snapshot,
a remote snapshot will not be saved. All runs on default refs will save a remote snapshot.<!-- -->
<ul>
<li>Every run on the default branch (Ex. <code>main</code> or <code>master</code>) will save a remote snapshot.</li>
<li>For the first run on your feature branch <code>my-feature</code>, if there is snapshot
for the default branch available, you will resume from it. Because you resumed
from a remote snapshot, a remote snapshot will not be saved.</li>
<li>Subsequent runs on the <code>my-feature</code> branch will resume from the default snapshot,
because no remote snapshots were saved for the <code>my-feature</code> branch.</li>
<li>If there is no default snapshot available, then a remote snapshot will be saved
for the <code>my-feature</code> branch on its first run.</li>
</ul>
</li>
</ul>
<p>For Workflows, you can configure this using the <code>platform_properties</code> field.</p>
<p>NOTE: If your workflow is triggered by a GitHub webhook event, the <code>GIT_REPO_DEFAULT_BRANCH</code>
environment variable will be set automatically. We use this to determine whether
the Workflow is running on a default ref. If you plan to manually dispatch
a Workflow with the ExecuteWorkflow API or our UI, you must manually set this
environment variable in your Workflow config (as shown below) for this to work as
expected.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#212121"><div class="codeBlockTitle_OeMC">buildbuddy.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token key atrule" style="color:#4FC1FF">actions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#4FC1FF">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Test all targets&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token key atrule" style="color:#4FC1FF">platform_properties</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token key atrule" style="color:#4FC1FF">remote-snapshot-save-policy</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> none</span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain">available</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token key atrule" style="color:#4FC1FF">env</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token key atrule" style="color:#4FC1FF">GIT_REPO_DEFAULT_BRANCH</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># ...</span><br></span></code></pre></div></div>
<p>For Remote Bazel, you can configure this using the
<code>--runner_exec_properties=remote-snapshot-save-policy=</code> flag.</p>
<p>NOTE: If your run is triggered by the BB CLI, the <code>GIT_REPO_DEFAULT_BRANCH</code>
environment variable will be set automatically. We use this to determine whether
the Workflow is running on a default ref. If you plan to use the <code>Run</code> API directly,
you must manually set this environment variable in the API request for this to work as
expected.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#212121"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">bb remote </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--runner_exec_properties</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">remote-snapshot-save-policy</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">none-available </span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">test</span><span class="token plain"> //</span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">.</span><br></span></code></pre></div></div>
<p>If you want to override the remote snapshot save policy for a specific run, you
should use a remote header. By default, platform properties are hashed in the
snapshot key, so changing the snapshot save policy would invalidate your snapshot.
However platform properties set in remote headers are not included in the snapshot
key.</p>
<p>For example, lets say you use the default <code>first-non-default-ref</code> policy, but wish
to force save a specific remote snapshot run to do some additional debugging. You
could apply that with a command like:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#212121"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">bb remote </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--remote_run_header</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">x-buildbuddy-platform.remote-snapshot-save-policy</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">always </span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">test</span><span class="token plain"> //</span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">.</span><br></span></code></pre></div></div>
<p>Workflows do not support setting remote headers, but you can use Remote Bazel to
force save a snapshot that is used by Workflows. From the invocation page for your
Workflow, on the Executions tab next to the label &quot;Saved to snapshot ID&quot;, there
is a button named <code>Copy Remote Bazel command to run commands in snapshot</code>. You
can add <code>--remote_run_header=x-buildbuddy-platform.remote-snapshot-save-policy=X</code>
to this command to force save a remote snapshot.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#212121"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">bb remote </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--remote_run_header</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">x-buildbuddy-platform.remote-snapshot-save-policy</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">always </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--run_from_snapshot</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;{&quot;snapshotId&quot;:&quot;XXX&quot;,&quot;instanceName&quot;:&quot;&quot;}&#x27;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--script</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;echo &quot;Just running this to force save a remote snapshot.&quot;&#x27;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runner-recycling-macos-only">Runner recycling (macOS only)<a href="#runner-recycling-macos-only" class="hash-link" aria-label="Direct link to Runner recycling (macOS only)" title="Direct link to Runner recycling (macOS only)" translate="no">​</a></h3>
<p>On macOS, remote runs are matched to workspaces using a simpler
runner-recycling based approach. Remote runs are associated with Git
repositories, and matched to any runner associated with the repository.
Each runner keeps a separate Bazel workspace directory and on-disk cache,
as well as its own Bazel server instance, which is kept alive between
runs. Runners are evicted from the machine only if the number of runners
exceeds a configured limit or if the disk resource usage exceeds a
configured amount.</p>
<p>macOS remote runners are only available for self-hosted Macs. See our
<a href="/docs/workflows-config#mac-configuration">configuration docs</a> for more details,
or <a href="https://www.buildbuddy.io/contact" target="_blank" rel="noopener noreferrer">contact us</a> for more info about
BuildBuddy-managed Macs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimal-usage-of-remote-runners">Optimal usage of remote runners<a href="#optimal-usage-of-remote-runners" class="hash-link" aria-label="Direct link to Optimal usage of remote runners" title="Direct link to Optimal usage of remote runners" translate="no">​</a></h2>
<p>While our remote runners support running arbitrary bash code, they were specifically
designed and optimized to run the Bazel client server and power Bazel commands with
remote execution (RBE).</p>
<p>Because we snapshot the entire memory and disk of each runner, the product is slower
when we must serialize and deserialize larger runners. Thus we have a 100GB limit
on disks for remote runners.</p>
<p>It&#x27;s more effective when a smaller remote runner is used to orchestrate farming out most computation to
traditional Bazel remote executors.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting started" title="Direct link to Getting started" translate="no">​</a></h2>
<p>You can get started with [BuildBuddy Workflows(<a href="https://docs.buildbuddy.io/docs/workflows-setup/" target="_blank" rel="noopener noreferrer">https://docs.buildbuddy.io/docs/workflows-setup/</a>)<!-- -->
or <a href="https://docs.buildbuddy.io/docs/remote-bazel/" target="_blank" rel="noopener noreferrer">Remote Bazel</a> by checking out the
corresponding docs.</p>
<p>If you&#x27;ve already linked your GitHub account to BuildBuddy, it&#x27;ll only take
about 30 seconds to enable remote runners for your repo — just select a repo
to link, and we&#x27;ll take care of the rest!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/buildbuddy-io/buildbuddy/edit/master/docs/../docs/remote-runner-introduction.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-10-09T10:23:24.000Z" itemprop="dateModified">Oct 9, 2025</time></b> by <b>Fabian Meumertzheim</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/rbe-pools"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RBE Executor Pools</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/remote-runner-features"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Remote Runner Features</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#differences-between-workflows-and-remote-bazel" class="table-of-contents__link toc-highlight">Differences between Workflows and Remote Bazel</a></li><li><a href="#benefits-of-remote-runners" class="table-of-contents__link toc-highlight">Benefits of remote runners</a><ul><li><a href="#colocation-with-buildbuddy-servers" class="table-of-contents__link toc-highlight">Colocation with BuildBuddy servers</a></li><li><a href="#hosted-warm-bazel-instances" class="table-of-contents__link toc-highlight">Hosted, warm, Bazel instances</a></li></ul></li><li><a href="#bazel-instance-matching" class="table-of-contents__link toc-highlight">Bazel instance matching</a><ul><li><a href="#firecracker-vms-linux-only" class="table-of-contents__link toc-highlight">Firecracker VMs (Linux only)</a></li><li><a href="#runner-recycling-macos-only" class="table-of-contents__link toc-highlight">Runner recycling (macOS only)</a></li></ul></li><li><a href="#optimal-usage-of-remote-runners" class="table-of-contents__link toc-highlight">Optimal usage of remote runners</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting started</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="/"><img alt="BuildBuddy Logo" src="/img/logo_white.svg" width="281px" height="32px" class="footer-logo"></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" target="_self" href="/ui">Build &amp; Test UI</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/remote-execution">Remote Execution</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/remote-cache">Remote Cache</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/workflows">Workflows</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/cli">CLI</a></li><li class="footer__item"><a href="https://app.buildbuddy.io" target="_self" rel="noopener noreferrer" class="footer__link-item">Get Started<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://app.buildbuddy.io/" target="_self" rel="noopener noreferrer" class="footer__link-item">Login<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" target="_self" href="/docs/introduction/">Docs</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/security">Security</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/plugins">Plugins</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/docs/enterprise-api">API</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" target="_self" href="/contact">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/team">Team</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/careers">Careers</a></li><li class="footer__item"><a href="https://github.com/buildbuddy-io/buildbuddy/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report an Issue<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/privacy">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/terms">Terms of Service</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://community.buildbuddy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/buildbuddy_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="http://linkedin.com/company/buildbuddy" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/buildbuddy-io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 Iteration, Inc.</div></div></div></footer></div>
</body>
</html>