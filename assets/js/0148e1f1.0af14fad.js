"use strict";(self.webpackChunkbuildbuddy_docs_website=self.webpackChunkbuildbuddy_docs_website||[]).push([[5619],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var i=n(96540);const s={},l=i.createContext(s);function o(e){const t=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(l.Provider,{value:t},e.children)}},53814:e=>{e.exports=JSON.parse('{"permalink":"/blog/unusual-builds-w-bytes","editUrl":"https://github.com/buildbuddy-io/buildbuddy/edit/master/website/blog/unusual-builds-w-bytes.md","source":"@site/blog/unusual-builds-w-bytes.md","title":"Unusual Builds with Bytes","description":"Fixing a download bug in Bazel Build without Bytes (BwoB)","date":"2025-03-10T12:00:00.000Z","tags":[{"inline":true,"label":"bazel","permalink":"/blog/tags/bazel"},{"inline":true,"label":"engineering","permalink":"/blog/tags/engineering"}],"readingTime":10.11,"hasTruncateMarker":true,"authors":[{"name":"Son Luong Ngoc","title":"Solution Engineer @ BuildBuddy","url":"https://github.com/sluongng/","imageURL":"https://avatars.githubusercontent.com/u/26684313?v=4","key":"son","page":null}],"frontMatter":{"slug":"unusual-builds-w-bytes","title":"Unusual Builds with Bytes","description":"Fixing a download bug in Bazel Build without Bytes (BwoB)","authors":"son","date":"2025-03-10:12:00:00","image":"/img/blog/unusual.png","tags":["bazel","engineering"]},"unlisted":false,"prevItem":{"title":"Welcoming Dan Stowell","permalink":"/blog/welcoming-dan-stowell"},"nextItem":{"title":"Troubleshooting Bazel with Git Bisect","permalink":"/blog/bisect-bazel"}}')},78787:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>a,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>r});var i=n(53814),s=n(74848),l=n(28453);const o={slug:"unusual-builds-w-bytes",title:"Unusual Builds with Bytes",description:"Fixing a download bug in Bazel Build without Bytes (BwoB)",authors:"son",date:"2025-03-10:12:00:00",image:"/img/blog/unusual.png",tags:["bazel","engineering"]},a=void 0,u={authorsImageUrls:[void 0]},r=[];function d(e){const t={code:"code",p:"p",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["We discovered a bug in Bazel that was causing builds with ",(0,s.jsx)(t.code,{children:"--remote_download_minimal"})," to download all output artifacts."]}),"\n",(0,s.jsx)(t.p,{children:"A fix has been submitted upstream to the Bazel repository and will be included in the Bazel 9.x release. It will also be cherry-picked back to versions 8.2.0 and 7.6.0."}),"\n",(0,s.jsxs)(t.p,{children:["Users on older versions of Bazel can work around this issue by setting ",(0,s.jsx)(t.code,{children:"--experimental_remote_cache_ttl"})," to a large value, such as ",(0,s.jsx)(t.code,{children:"10000d"}),", with some caveats."]})]})}function c(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);