"use strict";(self.webpackChunkbuildbuddy_docs_website=self.webpackChunkbuildbuddy_docs_website||[]).push([[1395],{21395:(e,t,o)=>{o.d(t,{A:()=>te});var n=o(98587),s=o(96540),i=o(65630),r=o(74848);function a(e,t,o,n){return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}function l(e){return"undefined"!=typeof window?(0,r.jsx)(c,Object.assign({},e,{children:e.children})):e.children}class c extends s.Component{constructor(){super(...arguments),this.scrollableAncestor=void 0,this.previousPosition=null,this.unsubscribe=void 0,this.innerRef=(0,s.createRef)(),this._handleScroll=()=>{const e=this.innerRef.current,{topOffset:t,bottomOffset:o,onEnter:n,onLeave:s}=this.props,i=function(e){let{node:t,scrollableAncestor:o,topOffset:n,bottomOffset:s}=e;const{top:i,bottom:r}=t.getBoundingClientRect();let a,l;if(o===window)a=window.innerHeight,l=0;else{const e=o;a=e.offsetHeight,l=e.getBoundingClientRect().top}return{top:i,bottom:r,viewportTop:l+n,viewportBottom:l+a-s}}({node:e,scrollableAncestor:this.scrollableAncestor,topOffset:t,bottomOffset:o}),r=function(e){if(e.viewportBottom-e.viewportTop===0)return"invisible";if(e.viewportTop<=e.top&&e.top<=e.viewportBottom)return"inside";if(e.viewportTop<=e.bottom&&e.bottom<=e.viewportBottom)return"inside";if(e.top<=e.viewportTop&&e.viewportBottom<=e.bottom)return"inside";if(e.viewportBottom<e.top)return"below";if(e.top<e.viewportTop)return"above";return"invisible"}(i),a=this.previousPosition;if(this.previousPosition=r,a===r)return;"inside"===r?n():"inside"===a&&s();("below"===a&&"above"===r||"above"===a&&"below"===r)&&(n(),s())}}componentDidMount(){this.scrollableAncestor=function(e){let t=e;for(;t.parentNode;){if(t=t.parentNode,t===document.body)return window;const e=window.getComputedStyle(t),o=e.getPropertyValue("overflow-y")||e.getPropertyValue("overflow");if("auto"===o||"scroll"===o||"overlay"===o)return t}return window}(this.innerRef.current);const e=a(this.scrollableAncestor,"scroll",this._handleScroll,{passive:!0}),t=a(window,"resize",this._handleScroll,{passive:!0}),o=function(e){let t=!0;return queueMicrotask(()=>{t&&e()}),()=>t=!1}(()=>{this._handleScroll()});this.unsubscribe=()=>{e(),t(),o()}}componentDidUpdate(){this._handleScroll()}componentWillUnmount(){var e;null==(e=this.unsubscribe)||e.call(this)}render(){return s.cloneElement(this.props.children,{innerRef:this.innerRef})}}c.defaultProps={topOffset:0,bottomOffset:0,onEnter(){},onLeave(){}};const d=function(){const e=[];let t;for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];for(const i of n)if(i instanceof Object)Object.assign(t||(t={}),i);else if(void 0===i||!1===i);else{if("string"!=typeof i)throw new Error("Unexpected value "+i);e.push(i)}return{className:e.length>1?e.join(" "):e[0],style:t}},h="loading",u="loaded",p="error",g={load:"load",loading:h,loaded:u,error:p,noicon:"noicon",offline:"offline"},f={initial:"initial",loading:h,loaded:u,error:p},{load:w,loading:m,loaded:v,error:b,noicon:S,offline:k}=g;class y extends s.PureComponent{constructor(e){super(e),this.state={isMounted:!1}}componentDidMount(){this.setState({isMounted:!0}),this.props.onDimensions&&this.dimensionElement&&this.props.onDimensions({width:this.dimensionElement.clientWidth||this.dimensionElement.parentNode.clientWidth,height:this.dimensionElement.clientHeight||this.dimensionElement.parentNode.clientHeight})}renderIcon(e){const{icon:t,icons:o,iconColor:n,iconSize:i,theme:r}=e,a=o[t];if(!a)return null;const l=d({width:i+100,height:i,color:n},r.icon);return s.createElement("div",l,[s.createElement(a,{fill:n,size:i,key:"icon"}),s.createElement("br",{key:"br"}),this.props.message])}renderImage(e){return e.icon===v?(0,r.jsx)("img",Object.assign({},d(e.theme.img),{src:e.src,alt:e.alt,width:e.width,height:e.height})):(0,r.jsx)("svg",Object.assign({},d(e.theme.img),{width:e.width,height:e.height,ref:e=>this.dimensionElement=e}))}renderNoscript(e){return this.state.isMounted?null:(0,r.jsx)("noscript",{children:(0,r.jsx)("img",Object.assign({},d(e.theme.img,e.theme.noscript),{src:e.nsSrc,srcSet:e.nsSrcSet,alt:e.alt,width:e.width,height:e.height}))})}render(){const e=this.props,{placeholder:t,theme:o}=e;let n;return n=e.icon===v?{}:t.lqip?{backgroundImage:'url("'+t.lqip+'")'}:{backgroundColor:t.color},(0,r.jsxs)("div",Object.assign({},d(o.placeholder,n,e.style,e.className),{onClick:this.props.onClick,onKeyPress:this.props.onClick,ref:this.props.innerRef,children:[this.renderImage(e),this.renderNoscript(e),this.renderIcon(e)]}))}}y.defaultProps={iconColor:"#fff",iconSize:64};class x{constructor(){this.signal={onabort:()=>{}},this.abort=()=>this.signal.onabort()}}const C=e=>{let t=new Image;const o=new Promise((o,n)=>{t.onload=o,t.onabort=t.onerror=()=>n({}),t.src=e});return o.cancel=()=>{if(!t)throw new Error("Already canceled");t.onload=t.onabort=t.onerror=void 0,t.src="",t=void 0},o},E=(e,t)=>{let o=new x;const n=o.signal,s=new Promise((o,s)=>((e,t)=>(t=t||{},new Promise((o,n)=>{const s=new XMLHttpRequest;s.open(t.method||"get",e,!0);for(const e in t.headers)s.setRequestHeader(e,t.headers[e]);function i(){const e=[],t=[],o={};let n;return s.getAllResponseHeaders().replace(/^(.*?):\s*?([\s\S]*?)$/gm,(s,i,r)=>{e.push(i=i.toLowerCase()),t.push([i,r]),n=o[i],o[i]=n?n+","+r:r}),{ok:2==(s.status/100|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:i,text:()=>Promise.resolve(s.responseText),json:()=>Promise.resolve(s.responseText).then(JSON.parse),blob:()=>Promise.resolve(new Blob([s.response])),headers:{keys:()=>e,entries:()=>t,get:e=>o[e.toLowerCase()],has:e=>e.toLowerCase()in o}}}s.withCredentials="include"===t.credentials,s.onload=()=>{o(i())},s.onerror=n,t.signal&&(t.signal.onabort=()=>{s.onerror=s.onload=void 0,s.abort()}),s.send(t.body)})))(e,Object.assign({},t,{signal:n})).then(t=>{t.ok?t.blob().then(()=>C(e)).then(o):s({status:t.status})},s));return s.cancel=()=>{if(!o)throw new Error("Already canceled");o.abort(),o=void 0},s},L="undefined"==typeof window||"ReactSnap"===window.navigator.userAgent,j=!L&&!!window.navigator.connection,M=(e,t)=>{if(L)return 0;t||(t=window);const o=e.width,{screen:n}=t,s=n.width,i=n.height,{documentElement:r}=document,a=t.innerWidth||r.clientWidth,l=t.innerHeight||r.clientHeight,c=t.devicePixelRatio||1;let d;if(s>a){const e=document.getElementsByTagName("body")[0],t=a-o;d=(e.clientHeight>l||e.clientHeight>i)&&t<=15?s-t:o/a*s}else d=o;return d*c},T=e=>{const t=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";const o=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return 0===o?e+" "+t[o]:(e/1024**o).toFixed(1)+" "+t[o]},O=(()=>{if(L)return!1;const e=document.createElement("canvas");return!(null==e.getContext||!e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")})(),I=e=>{var t;return"webp"===e.format||(null==(t=e.src)?void 0:t.match(/\.webp($|\?.*)/i))},N=e=>{let{srcSet:t,getUrl:o}=e;if(!L)return{};const n=t.filter(e=>!I(e)),s=n[0];return{nsSrcSet:n.map(e=>(o?o(e):e.src)+" "+e.width+"w").join(","),nsSrc:o?o(s):s.src,ssr:L}},{initial:z,loading:B,loaded:H,error:V}=f;class A extends s.Component{constructor(e){super(e),this.onClick=()=>{const{loadState:e,onLine:t,overThreshold:o}=this.state;if(t)switch(e){case B:return void(o&&this.cancel(!0));case H:return;case z:case V:return void this.load(!0);default:throw new Error("Wrong state: "+e)}},this.load=e=>{const{loadState:t,url:o}=this.state;if(L||H===t||B===t)return;this.loadStateChange(B,e);const{threshold:n}=this.props,s="xhr"===this.props.loader?E(o):C(o);if(s.then(()=>{this.clear(),this.loadStateChange(H,!1)}).catch(e=>{this.clear(),404===e.status?this.loadStateChange(V,!1,404):this.loadStateChange(V,!1)}),n){const e=(e=>{let t;const o=new Promise(o=>{t=setTimeout(o,e)});return o.cancel=()=>{clearTimeout(t),t=void 0},o})(n);e.then(()=>{this.loader&&(window.document.dispatchEvent(new CustomEvent("possiblySlowNetwork",{detail:{possiblySlowNetwork:!0}})),this.setState({overThreshold:!0}),this.state.userTriggered||this.cancel(!0))}),this.loader=((e,t)=>{if(!t)return e;const o=e.then(e=>e,e=>e);return o.cancel=()=>{e.cancel(),t.cancel()},o})(s,e)}else this.loader=s},this.onEnter=()=>{if(this.state.inViewport)return;this.setState({inViewport:!0});const e=(e=>{let t,o,{srcSet:n,maxImageWidth:s,supportsWebp:i}=e;if(0===n.length)throw new Error("Need at least one item in srcSet");if(i)t=n.filter(I),0===t.length&&(t=n);else if(t=n.filter(e=>!I(e)),0===t.length)throw new Error("Need at least one supported format item in srcSet");let r=t.filter(e=>e.width>=s);return 0===r.length?(r=t,o=Math.max.apply(null,r.map(e=>e.width))):o=Math.min.apply(null,r.map(e=>e.width)),t.filter(e=>e.width===o)[0]})({srcSet:this.props.srcSet,maxImageWidth:this.props.srcSet.length>1?M(this.state.dimensions):0,supportsWebp:O}),{getUrl:t}=this.props,o=t?t(e):e.src,n=this.props.shouldAutoDownload(Object.assign({},this.state,{size:e.size}));this.setState({pickedSrc:e,shouldAutoDownload:n,url:o},()=>{n&&this.load(!1)})},this.onLeave=()=>{this.state.loadState!==B||this.state.userTriggered||(this.setState({inViewport:!1}),this.cancel(!1))},this.state={loadState:z,connection:j?{downlink:navigator.connection.downlink,rtt:navigator.connection.rtt,effectiveType:navigator.connection.effectiveType}:null,onLine:!0,overThreshold:!1,inViewport:!1,userTriggered:!1,possiblySlowNetwork:!1}}componentDidMount(){j?(this.updateConnection=()=>{navigator.onLine&&this.state.loadState===z&&this.setState({connection:{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}})},navigator.connection.addEventListener("onchange",this.updateConnection)):this.props.threshold&&(this.possiblySlowNetworkListener=e=>{if(this.state.loadState!==z)return;const{possiblySlowNetwork:t}=e.detail;!this.state.possiblySlowNetwork&&t&&this.setState({possiblySlowNetwork:t})},window.document.addEventListener("possiblySlowNetwork",this.possiblySlowNetworkListener)),this.updateOnlineStatus=()=>this.setState({onLine:navigator.onLine}),this.updateOnlineStatus(),window.addEventListener("online",this.updateOnlineStatus),window.addEventListener("offline",this.updateOnlineStatus)}componentWillUnmount(){this.clear(),j?navigator.connection.removeEventListener("onchange",this.updateConnection):this.props.threshold&&window.document.removeEventListener("possiblySlowNetwork",this.possiblySlowNetworkListener),window.removeEventListener("online",this.updateOnlineStatus),window.removeEventListener("offline",this.updateOnlineStatus)}clear(){this.loader&&(this.loader.cancel(),this.loader=void 0)}cancel(e){B===this.state.loadState&&(this.clear(),this.loadStateChange(z,e))}loadStateChange(e,t,o){void 0===o&&(o=null),this.setState({loadState:e,overThreshold:!1,userTriggered:!!t,loadInfo:o})}render(){const e=this.props.getIcon(this.state),t=this.props.getMessage(e,this.state);return(0,r.jsx)(l,{onEnter:this.onEnter,onLeave:this.onLeave,children:(0,r.jsx)(y,Object.assign({},this.props,N(this.props),{onClick:this.onClick,icon:e,src:this.state.url||"",onDimensions:e=>this.setState({dimensions:e}),message:t}))})}}A.defaultProps={shouldAutoDownload:e=>{let{connection:t,size:o,threshold:n,possiblySlowNetwork:s}=e;if(s)return!1;if(!t)return!0;const{downlink:i,rtt:r,effectiveType:a}=t;switch(a){case"slow-2g":case"2g":return!1;case"3g":return!!(i&&o&&n)&&8*o/(1e3*i)+r<n;default:return!0}},getMessage:(e,t)=>{switch(e){case g.noicon:case g.loaded:return null;case g.loading:return"Loading...";case g.load:const{pickedSrc:o}=t,{size:n}=o;return n?["Click to load (",(0,r.jsx)("nobr",{children:T(n)},"nb"),")"]:"Click to load";case g.offline:return"Your browser is offline. Image not loaded";case g.error:const{loadInfo:s}=t;return 404===s?"404. Image not found":"Error. Click to reload";default:throw new Error("Wrong icon: "+e)}},getIcon:e=>{const{loadState:t,onLine:o,overThreshold:n,userTriggered:s}=e;if(L)return g.noicon;switch(t){case H:return g.loaded;case B:return n?g.loading:g.noicon;case z:if(o){const{shouldAutoDownload:t}=e;return void 0===t?g.noicon:s||!t?g.load:g.noicon}return g.offline;case V:return o?g.error:g.offline;default:throw new Error("Wrong state: "+t)}},loader:"xhr"};const W=e=>{let{size:t=24,fill:o="#000",className:n,path:s}=e;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",className:n,children:[(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:o,d:s})]})},P=e=>(0,r.jsx)(W,Object.assign({},e,{path:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"})),R=e=>(0,r.jsx)(W,Object.assign({},e,{path:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"})),D=e=>(0,r.jsx)(W,Object.assign({},e,{path:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})),_=e=>(0,r.jsx)(W,Object.assign({},e,{path:"M6,2V8H6V8L10,12L6,16V16H6V22H18V16H18V16L14,12L18,8V8H18V2H6M16,16.5V20H8V16.5L12,12.5L16,16.5M12,11.5L8,7.5V4H16V7.5L12,11.5Z"})),{load:U,loading:q,loaded:K,error:F,noicon:G,offline:Y}=g,$={[U]:P,[q]:_,[K]:null,[F]:D,[G]:null,[Y]:R},J={placeholder:{backgroundSize:"cover",backgroundRepeat:"no-repeat",position:"relative"},img:{width:"100%",height:"auto",maxWidth:"100%",marginBottom:"-4px"},icon:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},noscript:{position:"absolute",top:0,left:0}},X=["icons","theme"],Z=e=>{let{icons:t=$,theme:o=J}=e,s=(0,n.A)(e,X);return(0,r.jsx)(A,Object.assign({},s,{icons:t,theme:o}))},Q=["img"];function ee(e,t){switch(e){case"noicon":case"loaded":return null;case"loading":return(0,i.T)({id:"theme.IdealImageMessage.loading",message:"Loading...",description:"When the full-scale image is loading"});case"load":{const{pickedSrc:e}=t,{size:o}=e,n=o?" ("+function(e){const t=["B","KB","MB","GB","TB"];if(0===e)return"n/a";const o=Math.floor(Math.log(e)/Math.log(1024));return 0===o?e+" "+t[o]:(e/1024**o).toFixed(1)+" "+t[o]}(o)+")":"";return(0,i.T)({id:"theme.IdealImageMessage.load",message:"Click to load{sizeMessage}",description:"To prompt users to load the full image. sizeMessage is a parenthesized size figure."},{sizeMessage:n})}case"offline":return(0,i.T)({id:"theme.IdealImageMessage.offline",message:"Your browser is offline. Image not loaded",description:"When the user is viewing an offline document"});case"error":{const{loadInfo:e}=t;return 404===e?(0,i.T)({id:"theme.IdealImageMessage.404error",message:"404. Image not found",description:"When the image is not found"}):(0,i.T)({id:"theme.IdealImageMessage.error",message:"Error. Click to reload",description:"When the image fails to load for unknown error"})}default:throw new Error("Wrong icon: "+e)}}function te(e){var t,o;const{img:s}=e,i=(0,n.A)(e,Q);return"string"==typeof s||"default"in s?(0,r.jsx)("img",Object.assign({src:"string"==typeof s?s:s.default},i)):(0,r.jsx)(Z,{height:null!=(t=s.src.height)?t:100,width:null!=(o=s.src.width)?o:100,placeholder:{lqip:s.preSrc},src:s.src.src,srcSet:s.src.images.map(e=>Object.assign({},e,{src:e.path})),getMessage:ee})}}}]);