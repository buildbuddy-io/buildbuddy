load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive", "http_file")

# Kubernetes

http_archive(
    name = "io_bazel_rules_k8s",
    integrity = "sha256-51xa8wL5mhoGlsvgTEm4NRXsfCVgX5lR8a1/evO/pBY=",
    patch_args = ["-p1"],
    patches = [
        "//buildpatches:rules_k8s.patch",
    ],
    strip_prefix = "rules_k8s-554dc69933461ae2fa4fefcc46d09d5784832e6c",
    urls = ["https://github.com/bazelbuild/rules_k8s/archive/554dc69933461ae2fa4fefcc46d09d5784832e6c.tar.gz"],
)

load("@io_bazel_rules_k8s//k8s:k8s.bzl", "k8s_defaults", "k8s_repositories")

k8s_repositories()

k8s_defaults(
    name = "k8s_deploy",
    kind = "deployment",
)
